workflow:
  rules:
    - if: $CI_PIPELINE_SOURCE == "web"
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
    - if: $CI_COMMIT_BRANCH

stages:
  - test
  - lint

include:
  - template: Security/SAST.gitlab-ci.yml

markdown_lint:
  stage: lint
  image: ghcr.io/igorshubovych/markdownlint-cli:latest
  allow_failure: true
  rules:
    - changes:
        - "**/*.md"
  script:
    - markdownlint .
